{
  "enabled": true,
  "services": {
    "app": {
      "build": "src",
      "limits": {
        "cpus": 4
      },
      "environment": {
        "DB_HOST": "{{ .services.db.hostname }}"
      },
      "volumes": [
        {
          "type": "bind",
          "host": "src/src",
          "container": "/var/www/html",
          "readonly": true
        }
      ],
      "expose": [
        {
          "type": "http",
          "container": 80,
          "hostname": "lifequiz.challs.open.ecsc2024.it",
          "secure": false
        }
      ],
      "depends-on": [
        "db"
      ]
    },
    "db": {
      "image": "mysql",
      "environment": {
        "MYSQL_ROOT_PASSWORD": "password",
        "MYSQL_DATABASE": "db"
      },
      "volumes": [
        {
          "type": "bind",
          "host": "src/init.sql",
          "container": "/docker-entrypoint-initdb.d/init.sql",
          "readonly": true
        }
      ]
    }
  }
}