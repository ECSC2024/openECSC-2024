The other day I got the idea for this new protocol, the New File Transfer Protocol, to list and download files. I still have to think about file upload, but that's not the point. I gave you a (partial) reference code in Python and my preliminary implementation, can you audit it for me?

_Note: when running the binary, it is intended that the commands take some seconds to return an output._