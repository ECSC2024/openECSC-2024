<!DOCTYPE html>
<html lang="en" class="h-100">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>The Cyberton Post</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=%55nifrakt%75rMag%75ntia&display=swap" rel="stylesheet" />
		<link
			href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
			rel="stylesheet" />

		<style>
			a {
				text-decoration: none;
				color: inherit;
			}
			a h2:hover,
			a p:hover {
				opacity: 0.7;
			}
		</style>
	</head>
	<body class="d-flex flex-col&#x75;mn h-100">
		<nav class="navbar navbar-expand-lg bg-white border-bottom">
			<div class="container">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="/">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Politics</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Opinions</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Investigations</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Climate</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Tech</a>
					</li>
				</ul>
			</div>
		</nav>

		<main class="py-4">
			<div class="container text-center">
				<h1
					class="h1"
					href="#"
					style="font-family: &#x55;nifrakt&#x75;rMag&#x75;ntia; font-size: 4rem;"
					id="navbarTitle">
					The Cyberton Post
				</h1>
			</div>
		</main>

		<section class="mb-5">
			<div class="bg-body-tertiary py-5">
				<div class="container text-center py-5">
					<div>Advertisement</div>
					<div>
						<small class="text-body-secondary"
							>(I know it's a challenge, but it wouldn't copy a real newspaper without being littered by
							"ads")</small
						>
					</div>
				</div>
			</div>
		</section>

		<section class="flex-grow-1">
			<div class="container" id="postsContainer">
				<script>
					fetch('/api/posts', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: JSON.stringify({
							fields: ['id', 'title', 'excerpt', 'writers', 'cover']
						})
					})
						.then((data) => data.json())
						.then((posts) => {
							// ok, listen, this "banning the letter u" really got out of hands
							const doc = eval('doc\x75ment');

							posts.forEach((post) => {
								const a = doc.createElement('a');
								a.href = `/post/${post.id}`;
								const wrapper = doc.createElement('div');
								wrapper.classList.add(
									'w-75',
									'mx-a\x75to',
									'd-flex',
									'border-top',
									'border-black',
									'py-4',
									'mb-3',
									'gap-4'
								);
								const article = doc.createElement('div');
								article.classList.add('w-50');
								const title = doc.createElement('h2');
								title.style.fontFamily = "'Playfair Display'";
								title.innerText = post.title;
								const excerpt = doc.createElement('p');
								excerpt.classList.add('text-body-secondary');
								excerpt.innerText = post.excerpt;
								const authors = doc.createElement('small');
								authors.classList.add('text-body-secondary');
								authors.innerText = `By ${post.writers}`;
								const imgWrapper = doc.createElement('div');
								imgWrapper.classList.add('w-50');
								const img = doc.createElement('img');
								img.src = post.cover;
								img.alt = '';
								img.classList.add('w-100');
								article.appendChild(title);
								article.appendChild(excerpt);
								article.appendChild(authors);
								imgWrapper.appendChild(img);
								wrapper.appendChild(article);
								wrapper.appendChild(imgWrapper);
								a.appendChild(wrapper);
								postsContainer.appendChild(a);
							});
						});
				</script>
			</div>
		</section>

		<div class="container">
			<footer class="border-top py-4 mt-5">
				<div>
					<small>
						Lorem ipsum, dolor sit amet consectetur adipisicing elit. Vero magni illo sequi quisquam
						veritatis ducimus, culpa repudiandae provident odit quibusdam! Distinctio illum laudantium
						consequuntur voluptas magnam nihil recusandae quidem mollitia?
					</small>
				</div>

				<div class="text-center text-body-secondary">
					<small
						>Copyright... you know where the layout comes from, all the content has been AI generated</small
					>
				</div>
			</footer>
		</div>
	</body>
</html>
